---
// src/components/GuestCard.astro
export interface Props {
    guest: {
        name: string;
        title: string;
        instrument: string;
        image: string;
        songs: Array<{
            title: string;
            duration: string;
            partner: string;
        }>;
    };
}

const { guest } = Astro.props;
---

<div
    class="bg-gradient-to-br from-purple-300 via-pink-300 to-red-300 p-8 rounded-lg neo-border neo-shadow neo-shadow-hover transition-all duration-300 hover:scale-105 group"
>
    <!-- Header especial para invitado -->
    <div class="flex justify-between items-start mb-6">
        <div
            class="bg-black text-white px-3 py-1 rounded-lg transform -rotate-2 font-mono font-bold text-sm"
        >
            INVITADO
        </div>
        <!-- 1. MODIFICADO: 5 estrellas con animaci√≥n de centelleo cont√≠nua -->
        <div class="flex space-x-1">
            <span class="text-yellow-400 text-xl animate-twinkle">‚≠ê</span>
            <span
                class="text-yellow-400 text-xl animate-twinkle"
                style="animation-delay: 0.2s;">‚≠ê</span
            >
            <span
                class="text-yellow-400 text-xl animate-twinkle"
                style="animation-delay: 0.4s;">‚≠ê</span
            >
            <span
                class="text-yellow-400 text-xl animate-twinkle"
                style="animation-delay: 0.6s;">‚≠ê</span
            >
            <span
                class="text-yellow-400 text-xl animate-twinkle"
                style="animation-delay: 0.8s;">‚≠ê</span
            >
        </div>
    </div>

    <!-- Foto del invitado con efectos especiales -->
    <div class="flex justify-center mb-6">
        <div class="relative">
            <!-- C√≠rculo de fondo con gradiente -->
            <div
                class="w-32 h-32 rounded-full bg-gradient-to-br from-gold-400 to-yellow-500 p-2 transform rotate-3 group-hover:rotate-12 transition-transform duration-500 animate-float"
            >
                <div class="w-full h-full rounded-full bg-white p-2">
                    <img
                        src={guest.image}
                        alt={guest.name}
                        class="w-full h-full object-cover rounded-full brutal-filter group-hover:scale-110 transition-transform duration-300"
                    />
                </div>
            </div>

            <!-- Icono de viol√≠n -->
            <div
                class="absolute -bottom-3 -right-3 bg-purple-200 text-white w-10 h-10 rounded-full flex items-center justify-center font-bold text-lg transform rotate-12 group-hover:rotate-45 transition-transform duration-300"
            >
                üé∂
            </div>

            <!-- Efecto de brillo -->
            <div
                class="absolute top-2 left-2 w-4 h-4 bg-yellow-300 rounded-full opacity-80 animate-ping"
            >
            </div>
        </div>
    </div>

    <!-- Nombre y t√≠tulo del invitado -->
    <div class="text-center mb-6">
        <div
            class="bg-yellow-400 text-black px-4 py-2 rounded-lg transform -rotate-2 mb-3 inline-block neo-border"
        >
            <span class="font-black text-sm">{guest.title.toUpperCase()}</span>
        </div>

        <h2
            class="text-3xl font-black text-black leading-tight transform rotate-1 group-hover:-rotate-1 transition-transform duration-300 mb-1"
        >
            {guest.name.split(" ")[0]}
        </h2>
        <h3
            class="text-2xl font-black text-black transform -rotate-1 group-hover:rotate-1 transition-transform duration-300"
        >
            {guest.name.split(" ")[1]}
        </h3>
        <p class="text-lg font-bold text-gray-700 mt-2 transform rotate-1">
            {guest.instrument}
        </p>
    </div>

    <!-- Programa del invitado -->
    <div
        class="bg-white bg-opacity-95 p-5 rounded-lg neo-border transform -rotate-1 group-hover:rotate-1 transition-transform duration-300"
    >
        <h4
            class="font-black text-gray-800 mb-4 transform rotate-1 text-sm flex items-center"
        >
            <span class="mr-2">üéº</span>
            PRESENTACI√ìN ESPECIAL:
        </h4>
        <div class="space-y-3">
            {
                guest.songs.map((song, index) => (
                    <div class="bg-gradient-to-r from-purple-100 to-pink-100 p-3 rounded-lg border-2 border-black transform hover:scale-105 transition-transform duration-200">
                        <div class="flex justify-between items-center">
                            <span class="font-bold text-gray-800 text-sm">
                                {song.title}
                            </span>
                            <span class="bg-yellow-500 text-white px-2 py-1 rounded-full font-bold text-xs transform">
                                Duo: {song.partner}
                            </span>
                            <span class="bg-purple-500 text-white px-2 py-1 rounded-full font-bold text-xs transform rotate-3">
                                {song.duration}
                            </span>
                        </div>
                    </div>
                ))
            }
        </div>
    </div>

    <!-- Mensaje especial -->
    <div class="mt-6 text-center">
        <div
            class="bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-3 rounded-full font-black text-sm transform group-hover:scale-110 transition-transform duration-300 shadow-lg"
        >
            <span class="flex items-center justify-center space-x-2">
                <span>‚ú®</span>
                <span>ACTUACI√ìN ESPECIAL</span>
                <span>‚ú®</span>
            </span>
        </div>
    </div>
</div>

<style>
    /* Efecto de oro para el gradiente */
    .from-gold-400 {
        --tw-gradient-from: #fbbf24;
    }

    .to-yellow-500 {
        --tw-gradient-to: #eab308;
    }

    /* Animaci√≥n de flotar para la foto */
    .group:hover .animate-float {
        animation: float 2s ease-in-out infinite;
    }

    /* 2. NUEVA ANIMACI√ìN: Keyframes para el centelleo de las estrellas */
    @keyframes twinkle {
        0%,
        100% {
            transform: scale(1);
            opacity: 1;
        }
        50% {
            transform: scale(1.2); /* La estrella se hace un poco m√°s grande */
            opacity: 0.5; /* La estrella se aten√∫a */
        }
    }

    /* Clase de utilidad para aplicar la animaci√≥n */
    .animate-twinkle {
        animation: twinkle 2s ease-in-out infinite;
    }
</style>
